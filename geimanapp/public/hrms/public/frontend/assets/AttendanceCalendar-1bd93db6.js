import{i as g,a as w,c as k,w as O,Q as j,e as C,q as _,f as l,j as d,n as e,t as c,k as p,F as m,H as f,I as x,U as A}from"./frappe-ui-02049d65.js";const F={key:0,class:"flex flex-col w-full gap-5"},H={class:"text-lg text-gray-800 font-bold"},S={class:"flex flex-col gap-6 bg-white py-6 px-3.5 rounded-lg border-none"},B={class:"flex flex-row justify-between items-center px-4"},$={class:"text-lg text-gray-800 font-bold"},L={class:"grid grid-cols-7 gap-y-3"},P={class:"flex justify-center text-gray-600 text-sm font-medium leading-6"},E={class:"text-gray-800 text-sm font-medium m-auto"},N={class:"grid grid-cols-4 mx-2"},V={class:"flex flex-col gap-1"},W={class:"flex flex-row gap-1 items-center"},T={class:"text-gray-600 text-sm font-medium leading-5"},q={class:"text-gray-800 text-base font-semibold leading-6 mx-auto"},Q={__name:"AttendanceCalendar",setup(z){const h=g("$dayjs"),b=g("$employee"),s=g("$translate"),t=w(h().date(1).startOf("D")),v={Present:"bg-green-300","Work From Home":"bg-green-300","Half Day":"bg-yellow-200",Absent:"bg-red-200","On Leave":"bg-blue-300",Holiday:"bg-gray-300"},M=["Present","Half Day","Absent","On Leave"],Y=k(()=>{const n={};for(const o of Object.values(i.data)){let u=o==="Work From Home"?"Present":o;u in n?n[u]+=1:n[u]=1}return n});O(()=>t.value,()=>{i.fetch()});const y=n=>i.data[t.value.date(n).format("YYYY-MM-DD")],r=n=>Array.from(n.trim())[0],D=[r(s("Sunday")),r(s("Monday")),r(s("Tuesday")),r(s("Wednesday")),r(s("Thursday")),r(s("Friday")),r(s("Saturday"))],i=j({url:"hrms.api.get_attendance_calendar_events",auto:!0,cache:"hrms:attendance_calendar_events",makeParams(){return{employee:b.data.name,from_date:t.value.format("YYYY-MM-DD"),to_date:t.value.endOf("M").format("YYYY-MM-DD")}}});return(n,o)=>{const u=C("Button");return _(i).data?(l(),d("div",F,[e("div",H,c(_(s)("Attendance Calendar")),1),e("div",S,[e("div",B,[p(u,{icon:"chevron-left",variant:"ghost",onClick:o[0]||(o[0]=a=>t.value=t.value.subtract(1,"M"))}),e("span",$,c(t.value.format("MMMM"))+" "+c(t.value.format("YYYY")),1),p(u,{icon:"chevron-right",variant:"ghost",onClick:o[1]||(o[1]=a=>t.value=t.value.add(1,"M"))})]),e("div",L,[(l(),d(m,null,f(D,a=>e("div",P,c(a),1)),64)),(l(!0),d(m,null,f(t.value.get("d"),a=>(l(),d("div"))),256)),(l(!0),d(m,null,f(t.value.endOf("M").get("D"),a=>(l(),d("div",null,[e("div",{class:x(["h-8 w-8 flex rounded-full mx-auto",y(a)&&v[y(a)]])},[e("span",E,c(a),1)],2)]))),256))]),o[2]||(o[2]=e("hr",null,null,-1)),e("div",N,[(l(),d(m,null,f(M,a=>e("div",V,[e("div",W,[e("span",{class:x(["rounded full h-3 w-3",v[a]])},null,2),e("span",T,c(_(s)(a)),1)]),e("span",q,c(Y.value[a]||0),1)])),64))])])])):A("",!0)}}};export{Q as default};
//# sourceMappingURL=AttendanceCalendar-1bd93db6.js.map
