import{E as C,a as m,e as F,f as u,j as f,n as e,t as a,k as i,q as n,v as y,F as D,H as U,l as d,x as _,V as p,y as B,U as A}from"./frappe-ui-02049d65.js";import{c as N}from"./index-1b959967.js";import{F as $}from"./workflow-0b2a2f3b.js";import"./user-9e8700ad.js";const j={class:"flex flex-col gap-3 py-4"},M={class:"file-select"},P={class:"text-base font-semibold text-gray-800 pb-4"},q={class:"select-button cursor-pointer"},E={class:"flex flex-col w-full border shadow-sm items-center rounded p-3 gap-2"},I={class:"block text-sm font-normal leading-5 text-gray-700"},H={key:0,class:"w-full"},L={class:"w-full flex flex-col items-center gap-2"},O={class:"flex flex-row items-center justify-between text-gray-700 text-sm"},R=["onClick"],S={class:"text-lg font-bold"},T={class:"font-bold"},z={class:"flex flex-row gap-4"},G={__name:"FileUploaderView",props:{modelValue:{type:Object,required:!0}},emits:["handle-file-select","handle-file-delete"],setup(h,{emit:g}){let o=m(!1),r=m(!1),c=m({});const v=g;function x(t){c.value=t,r.value=!0}function b(t){c.value=t,o.value=!0}function V(){v("handle-file-delete",c.value),o.value=!1}return(t,s)=>{const w=F("Button");return u(),f("div",j,[e("label",M,[e("h2",P,a(t.__("Attachments")),1),e("div",q,[e("div",E,[i(n(y),{name:"upload",class:"h-6 w-6 text-gray-700"}),e("span",I,a(t.__("Upload images or documents")),1)]),e("input",{class:"hidden",ref:"input",type:"file",multiple:"",accept:"*",onChange:s[0]||(s[0]=l=>v("handle-file-select",l))},null,544)])]),h.modelValue.length?(u(),f("div",H,[e("ul",L,[(u(!0),f(D,null,U(h.modelValue,(l,k)=>(u(),f("li",{class:"bg-gray-100 rounded p-2 w-full",key:k},[e("div",O,[e("span",{class:"grow",onClick:J=>x(l)},a(l.file_name||l.name),9,R),i(n(y),{name:"x",class:"h-4 w-4 cursor-pointer text-gray-700",onClick:()=>b(l)},null,8,["onClick"])])]))),128))]),i(n(B),{modelValue:n(o),"onUpdate:modelValue":s[2]||(s[2]=l=>p(o)?o.value=l:o=l)},{"body-title":d(()=>[e("h2",S,a(t.__("Delete Attachment")),1)]),"body-content":d(()=>[e("p",null,[_(a(t.__("Are you sure you want to delete the attachment"))+" ",1),e("span",T,a(n(c).file_name),1),s[4]||(s[4]=_(" ? "))])]),actions:d(()=>[e("div",z,[i(w,{variant:"outline",class:"py-5 w-full",onClick:s[1]||(s[1]=l=>p(o)?o.value=!1:o=!1)},{default:d(()=>[_(a(t.__("Cancel")),1)]),_:1}),i(w,{variant:"solid",theme:"red",onClick:V,class:"py-5 w-full"},{default:d(()=>[_(a(t.__("Delete")),1)]),_:1})])]),_:1},8,["modelValue"]),i(n(N),{ref:"modal","is-open":n(r),onDidDismiss:s[3]||(s[3]=l=>p(r)?r.value=!1:r=!1)},{default:d(()=>[i($,{file:n(c)},null,8,["file"])]),_:1},8,["is-open"])])):A("",!0)])}}},Y=C(G,[["__scopeId","data-v-bdd073c8"]]);export{Y as default};
//# sourceMappingURL=FileUploaderView-2c05c13e.js.map
