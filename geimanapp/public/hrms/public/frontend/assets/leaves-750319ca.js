import{Q as m}from"./frappe-ui-02049d65.js";import{e as t}from"./employee-399cdb46.js";import{d as s}from"./formatters-c2abf875.js";const o=e=>e.map(a=>(a.leave_dates=n(a),a.doctype="Leave Application",a)),n=e=>e.from_date==e.to_date?s(e.from_date).format("D MMM"):`${s(e.from_date).format("D MMM")} - ${s(e.to_date).format("D MMM")}`,l=m({url:"hrms.api.get_leave_applications",params:{employee:t.data.name,limit:10},auto:!0,cache:"hrms:my_leaves",transform(e){return o(e)},onSuccess(){p.reload()}}),i=m({url:"hrms.api.get_leave_applications",params:{employee:t.data.name,approver_id:t.data.user_id,for_approval:1,limit:10},auto:!0,cache:"hrms:team_leaves",transform(e){return o(e)}}),p=m({url:"hrms.api.get_leave_balance_map",params:{employee:t.data.name},auto:!0,cache:"hrms:leave_balance",transform:e=>Object.fromEntries(Object.entries(e).map(([a,r])=>(r.balance_percentage=r.balance_leaves/r.allocated_leaves*100,[a,r])))});export{n as g,p as l,l as m,i as t};
//# sourceMappingURL=leaves-750319ca.js.map
